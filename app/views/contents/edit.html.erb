<div class='edit__contents--form'>

  <header class='fillin__contents--header'>
    <%= link_to image_tag("logo_transparent_copy.png",width:'200px', class:"logo__transparent"), root_path %>
  </header>

    <div class='fillin__contents--main'>
      <div class='white__bg'>
        <h1 class='fillin__contents--submain'>コンテンツ編集</h1>
        <%= form_with model: @content, local: true do |f| %>

        <%= render 'shared/error_messages', model: f.object %>

        <div class='fillin__contents'>
          <div class='weight__bold--text'>
            タイトル
            <span class='indispensable'>必須</span>
          </div>
          <div class="field">
            <%= f.text_field :title, size: '35x5', class:'content__text', id:'content__name', placeholder:"タイトルを入力してください" %>
          </div>
        </div>

        <div class='image__video--upload'>
          <div class='either__ok'>
            <p><span class='indispensable'>どちらか一つ必須</span>
            どちらとも投稿していただいても構いません。</p>
          </div>
          <div class='image__upload'>
            <div class='weight__bold--text'>
              コンテンツの画像
            </div>
            <div class='click__upload'>
              <p>
                クリックしてファイルをアップロード
              </p>
              <div class="field">
                <%= f.file_field :image_content, :accept => 'image/jpeg,image/gif,image/png' %>
              </div>
            </div>
          </div>
          <div class='video__upload'>
            <div class='weight__bold--text'>
              コンテンツの動画
            </div>
            <div class='click__upload'>
              <p>
                クリックしてファイルをアップロード
              </p>
              <div class="field">
                <%= f.file_field :video_content, :accept => 'video/*' %>
              </div>
            </div>
          </div>
        </div>

        <div class='fillin__contents'>
          <div class='weight__bold--text'>
            概要（キーワード）
            <span class='indispensable'>必須</span>
          </div>
          <div class="field">
            <%= f.text_area :overview, size: '80x10', class:'content__text', id:'content__overview', placeholder:'概要とキーワードを入力してください。キーワードを記入すると、検索しやすくなります。' %>
          </div>
        </div>

        <div class='fillin__contents'>
          <div class='weight__bold--text'>
            コンテンツの詳細
            <span class='indispensable'>必須</span>
          </div>
          <div class="field">
            <%= f.text_area :writing, size: '80x20', class:'content__text', id:'content__writing', placeholder:'コンテンツの詳細を記入してください。' %>
          </div>
        </div>

        <div class='fillin__contents'>
          <div class='weight__bold--text'>
            コンテンツ元のURLまたは投稿に関連したURL
            <span class='indispensable'>必須</span>
            <p>(特にない場合は、投稿者に関連するURLを記入してください)</p>
          </div>
          <div class="field">
            <%= f.text_field :source, size: '50x5' , class:'content__text', id:'content__url', placeholder:'例) https://example.com' %>
          </div>
        </div>

        <div class='fillin__contents'>
          <div class='weight__bold--text'>
            カテゴリー
            <span class='indispensable'>必須</span>
            <p class='category__warning'>必ず<span class='sub__warning'>2つ目</span>のカテゴリーまで選択してください</p>
          </div>
          <div class="field">
            <div class='listing-form-box'> 
              <div class='listing-content-detail__category'>
                  <div class='listing-select-wrapper'>
                    <div class="listing-select-wrapper__box">
                      <%= f.select :category, @category_parent_array, {selected: @content.category.parent.name}, {class: 'listing-select-wrapper__box--select', id: 'parent_category'} %>
                    </div>
                    <div class="listing-select-wrapper__box" id="children_wrapper">
                      <%= f.select :child_id, options_for_select(@category_children_array.map{|b| [b.name, b.id, {data:{cateogry: b.id}}]}, {prompt: "指定なし", selected: @content.category.id}), {}, {class: 'listing-select-wrapper__box--select children_wrapper', id: 'child_category'} %>
                    </div>
                  </div>
              </div>
            </div>
          </div>
        </div>

        <div class="fillin__contents--btn">
          <%= f.submit "投稿する" ,class:'update__btn' %>
        </div>
        <div class='back__to--top'>
          <%=link_to '←戻る', root_path, class:"back__btn" %>
        </div>
        <% end %>
      </div>
    </div>

  <footer class='fillin__contents--footer'>
    <ul class="small__footer--menu">
      <li><a href="#">プライバシーポリシー</a></li>
      <li><a href="#">FUTURE利用規約</a></li>
    </ul>
    <%= link_to image_tag("logo_transparent_copy.png", width:'200px', class:"logo__transparent"), root_path %>
    <p class="inc">
      ©︎FUTURE,Inc.
    </p>
  </footer>
</div>